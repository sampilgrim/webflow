<!DOCTYPE html>
<!-- saved from url=(0033)https://classimporter.webflow.io/ -->
<html data-wf-domain="classimporter.webflow.io" data-wf-page="637617d4c0c96d3e29c2215b" data-wf-site="637617d4c0c96d150ec2215a" data-wf-status="1" class="w-mod-js wf-lato-n3-active wf-lato-i1-active wf-lato-n1-active wf-lato-i3-active wf-lato-n7-active wf-lato-n9-active wf-lato-i9-active wf-lato-i7-active wf-lato-i4-active wf-lato-n4-active wf-active"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style>.wf-force-outline-none[tabindex="-1"]:focus{outline:none;}</style><title>Webflow Class Importer</title><meta content="A lightweight tool for batch importing CSS class names into the Webflow UI. Created by Sam Pilgrim." name="description"><meta content="Webflow Class Importer" property="og:title"><meta content="A lightweight tool for batch importing CSS class names into the Webflow UI. Created by Sam Pilgrim." property="og:description"><meta content="https://cdn.prod.website-files.com/637617d4c0c96d150ec2215a/6377a1132c8a5c204c1b7371_og.png" property="og:image"><meta content="Webflow Class Importer" property="twitter:title"><meta content="A lightweight tool for batch importing CSS class names into the Webflow UI. Created by Sam Pilgrim." property="twitter:description"><meta content="https://cdn.prod.website-files.com/637617d4c0c96d150ec2215a/6377a1132c8a5c204c1b7371_og.png" property="twitter:image"><meta property="og:type" content="website"><meta content="summary_large_image" name="twitter:card"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="Webflow" name="generator"><link href="./files/classimporter.webflow.ae6ed4895.css" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/" rel="preconnect"><link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin="anonymous"><script src="./files/webfont.js" type="text/javascript"></script><link rel="stylesheet" href="./files/css" media="all"><script type="text/javascript">WebFont.load({  google: {    families: ["Lato:100,100italic,300,300italic,400,400italic,700,700italic,900,900italic"]  }});</script><script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script><link href="https://cdn.prod.website-files.com/637617d4c0c96d150ec2215a/637772d2ddc4bf8823ada890_32.png" rel="shortcut icon" type="image/x-icon"><link href="https://cdn.prod.website-files.com/637617d4c0c96d150ec2215a/637772d565ea18f7bbb7a6f1_256.png" rel="apple-touch-icon"></head><body><div class="wrapper"><div class="heading-wrapper flow"><h1>Webflow Class Importer</h1><div>A lightweight tool for batch importing CSS class names into the Webflow UI. <br><br>Created by <a href="https://www.sampilgrim.com/" target="_blank">Sam Pilgrim</a>.<br></div></div><div class="body"><div class="flow w-richtext"><h2>Instructions</h2><ol start="1" role="list"><li>Type a list of class names into the field below, separated by <strong>commas</strong>, <strong>spaces</strong> and/or <strong>line breaks</strong>.</li><li>Click the <strong>Copy</strong> button.</li><li>Open your Webflow project and <strong>paste</strong> (Ctrl+V / ⌘V). </li><li>Divs with these classes will be added to the page.</li></ol><h2>About this tool</h2><p>It was born from the need to import dozens of colour and spacing token classes where the styling was handled by external CSS, but the classes were needed inside the UI&nbsp;so they could be easily added to elements. Adding these classes into Webflow manually was a <em>laborious</em> process.</p><p>Note that this tool imports class names only – it does not (currently)&nbsp;handle styling. You can target these classes with custom CSS or add styling to them like any other class in Webflow.</p><p>If a class already exists in Webflow, it may be renamed ("classname 2" etc).</p><p>If you get an error when attempting to paste into Webflow, be sure to check that you're writing valid CSS&nbsp;class names.</p><h3>Disclaimer</h3><p>This is a basic, thrown-together-in-an-evening tool that's undergone limited testing. It doesn't sanitise inputs very much, and probably won't handle being fed weird characters, quote marks or so on. I won't be held responsible if you type a gazillion emojis and your project goes weird.</p></div></div><div class="tool"><div class="w-embed"><textarea id="class-text-area" class="input-box" placeholder="Type your class names here"></textarea></div><div class="btn-row w-embed"><button class="button" id="copy-button">Copy</button>
<button class="button button--secondary" id="reset-button">Reset</button></div></div></div><div class="hidden w-embed"><style>

	.flow > * + * {
  		margin-top: 1em;
      }
      
   textarea::placeholder {
     color: #faa7a4;
     opacity: 0.5
     }
   
   #reset-button {
   		display: none;
   }
</style></div><div class="hidden"><div class="input-box"></div><div class="button">I'm some text</div></div><script src="./files/jquery-3.5.1.min.dc5e7f18c8.js" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script><script src="./files/webflow.24a563ff7.js" type="text/javascript"></script><script>
	/*
Webflow class importer tool

This tool will loop through a list of user-provided classnames, and create a JSON block that can be pasted into a Webflow project, containing divs with each of these classes.

TO DO / NOTES
- NB if classes already exist then they will be renamed
- If the 'createdBy' field within the JSON for the styles is the same as the current WF user (?) then it merges styles - or at least doesn't rename.
- if the pasted element has the same class as an existing class, and the same WF user created it, but the styling are different, then both sets of CSS rules will exist, but the newer one will override the first simply by being later in the CSS file.
- Can we query Webflow Designer API to check if any of the classes already exist?
*/


/* JSON template */
var jsonBase = {
  "type": "@webflow/XscpData",
  "payload": {
    "nodes": [],
    "styles": [],
    "assets": [],
    "ix1": [],
    "ix2": {
      "interactions": [],
      "events": [],
      "actionLists": []
    }
  },
  "meta": {
    "unlinkedSymbolCount": 0,
    "droppedLinks": 0,
    "dynBindRemovedCount": 0,
    "dynListBindRemovedCount": 0,
    "paginationRemovedCount": 0
  }
}

/* JSON node template */
var jsonBase_node = {
        "_id": "",
        "type": "Block",
        "tag": "div",
        "classes": [],
        "children": [],
        "data": {
          "tag": "div"
        }
      }

/* JSON class teamplte */
var jsonBase_class = {
        "_id": "",
        "fake": false,
        "type": "class",
        "name": "",
        "namespace": "",
        "comb": "",
        "styleLess": "",
        "variants": {},
        "children": [],
        "createdBy": "",
        "selector": null
      }


/* loop through user's string and build JSON */      
function convertStylesToJSON(str, reg) {

	const arr = str.split(reg) /* split string into arr by comma, line break, whatever we've chosen */
  console.log(str)
  console.log(arr)

	var classNodes = [];
	var nodeNodes = [];

	for (var i = 0; i < arr.length; i++) {

      // var sanitisedClassName = arr[i].replace(/[^_a-zA-Z0-9-]/,""); /* Remove anything not a letter/number/underscore/hyphen. Bit heavy handed, but having some issues with weird hidden characters. */
      var sanitisedClassName = arr[i]; /* skipped sanitising for now */

      /* if name is not empty */
      if(sanitisedClassName.length > 0) {

        myClassNode = JSON.parse(JSON.stringify(jsonBase_class)); /* duplicate the template class node */
        myClassNode._id = ranHexStr([4,2,2,2,6]); /* generate a new id for class */
        myClassNode.name = sanitisedClassName; /* name class */

        myNodeNode = JSON.parse(JSON.stringify(jsonBase_node)); /* duplicate the template element node */
        myNodeNode._id = ranHexStr([4,2,2,2,6]); /* generate a new id for element */
        myNodeNode.classes[0] = myClassNode._id; /* give element the class */

        classNodes.push(myClassNode); /* make arrays of nodes */
        nodeNodes.push(myNodeNode);

      }
	}

  /* create parent node class */
  var parentClass = JSON.parse(JSON.stringify(jsonBase_class));
  parentClass._id = ranHexStr([4,2,2,2,6]);
  parentClass.name = "class-importer";

  /* create parent node to hold child nodes */
  var parentNode = JSON.parse(JSON.stringify(jsonBase_node));
  parentNode._id = ranHexStr([4,2,2,2,6]);
  parentNode.classes[0] = parentClass._id;
  
  /* add all IDs of child nodes to parent node */
  for (var i = 0; i < nodeNodes.length; i++) {
    parentNode.children.push(nodeNodes[i]._id);
  }

  /* add parent node to start of node array */
  nodeNodes.unshift(parentNode);
  classNodes.unshift(parentClass);

  /* duplicate and add our nodes to the overall template */
	jsonBase.payload.nodes = JSON.parse(JSON.stringify(nodeNodes)); 
	jsonBase.payload.styles = JSON.parse(JSON.stringify(classNodes));

	console.log(JSON.stringify(jsonBase))

  return JSON.stringify(jsonBase);

}


function ClassImporter(triggerEl, inputEl, stylesToConvert, separatorRegex) {

	document.addEventListener("copy", (event) => { /* listen for a copy event in this document */ /* TODO - can we limit this so it doesn't trigger off any other copying actions? */

    if(!stylesToConvert) {
      stylesToConvert = inputEl.value;
    }
		var myJSON = convertStylesToJSON(stylesToConvert, separatorRegex) /* get contents of text box and convert to Webflow JSON */

	  event.clipboardData.setData("application/json", myJSON); /* Save JSON to clipboard. NB - we don't need to use JSON.stringify if the code is already JSON - otherwise it escapes quote marks and breaks */

    event.preventDefault();
    console.log("copied to cb", myJSON);
	});

	triggerEl.onclick = function () { /* when button is clicked, fire a copy event */
	    document.execCommand("copy");
      triggerEl.innerText = "Classes copied!";
      triggerEl.disabled = true;
      myElement.disabled = true;
      document.getElementById("reset-button").style.display = "block";
	};

}

/* generate a random hex */
function ranHex(numBytes) {
    const bytes = crypto.getRandomValues(new Uint8Array(numBytes));
    const array = Array.from(bytes);
    const hexPairs = array.map(b => b.toString(16).padStart(2, '0'));
    return hexPairs.join('')
}

/* generate a random ID based on a defined structure */
function ranHexStr(array) {
	var hexArr = [];
	for (var i = 0; i < array.length; i++) {
		hexArr.push(ranHex(array[i]));
	}
	var hexStr = hexArr.join("-")
	return hexStr;
}

/* button to trigger copy action */
let myButton = document.getElementById("copy-button");

/* textarea containing classes */
let myElement = document.getElementById("class-text-area");

/* regex to split text content on */
let mySeparatorRegex = new RegExp(/[,\s\r\n]+/);

/* reload button */
document.getElementById("reset-button").onclick = function() {
	  window.location.reload();
}

ClassImporter(myButton, myElement, undefined, mySeparatorRegex);

</script><a class="w-webflow-badge" href="https://webflow.com/?utm_campaign=brandjs"><img src="./files/webflow-badge-icon.f67cd735e3.svg" alt="" style="margin-right: 8px; width: 16px;"><img src="./files/webflow-badge-text.6faa6a38cd.svg" alt="Made in Webflow"></a></body></html>